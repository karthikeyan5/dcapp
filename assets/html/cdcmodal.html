<div class="modal-header hidden-print">
    <h3 class="text-center">Cloth Delivery Challan</h3>
</div>

<div style="padding: 10px;" class="hidden-print">
    <div style="padding-top: 10px;padding-bottom: 10px;">
        <!-- {{cdc | json}} -->
        <form id="form1" class="form-horizontal" autocomplete="off">
            <div class="form-group">
                <label for="department" class="col-md-2 control-label">D.C. Type (Department):</label>
                <div class="col-md-3">
                    <p class="form-control">{{cdc.department_name}}</p>
                </div>
                <label for="datebox" class="col-md-2 col-md-offset-1 control-label">DC Date:</label>
                <div class="col-md-2">
                    <p class="form-control">{{cdc.dc_date | date:'dd.MM.yyyy'}}</p>
                </div>
            </div>
            <div class="form-group">
                <label for="n1ame" class="col-md-2 control-label">Lot Number:</label>
                <div class="col-md-3">
                    <p class="form-control">{{cdc.lot_number}}</p>
                </div>
                <label for="p1in" class="col-md-2 col-md-offset-1 control-label">DC No:</label>
                <div class="col-md-3">
                    <p class="form-control" ng-if="cdc.status != 'inactive'">{{cdc.naming_series}}
                        <span ng-if="cdc.dc_number">{{ cdc.dc_number | minLength:cdc.dc_no_length }}</span>
                    </p>
                    <p class="form-control" style="text-decoration: line-through;" ng-if="cdc.status == 'inactive'">{{cdc.naming_series}}
                        <span ng-if="cdc.dc_number">{{ cdc.dc_number | minLength:cdc.dc_no_length }}</span>
                    </p>
                </div>
            </div>
            <div class="form-group">
                <label for="addressss" class="col-md-2 control-label">Supplier name:</label>
                <div class="col-md-4 col-md-offset-0 panel panel-default">
                    <div class="panel-body">
                        <address class="text-justified">
                            <strong class="text-capitalize">{{cdc.supplier_name.toLowerCase()}}</strong>,
                            <small style="white-space: nowrap;">(id = {{cdc.supplier_id}})</small>
                            <span ng-show="cdc.supplier_address1">
                                <br>{{cdc.supplier_address1}},</span>
                            <span ng-show="cdc.supplier_address2">
                                <br>{{cdc.supplier_address2}},</span>
                            <br> {{cdc.supplier_city + ", "}} {{cdc.supplier_state}}{{cdc.supplier_pincode?" - "+cdc.supplier_pincode+".":".";}}
                            <br> {{cdc.supplier_gstin? "GSTIN: "+cdc.supplier_gstin:"";}}
                        </address>
                    </div>
                </div>
            </div>




            <div ng-show="cdc.items.length > 0">
                <table class="table table-bordered table-striped">
                    <tr ng-repeat="item in cdc.items track by $index">
                        <td>Colour: {{item.colour}}</td>
                        <td>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <!-- <th class="text-center">S.No</th> -->
                                        <th class="text-center pshead">Dia</th>
                                        <th class="text-center pshead">Roll</th>
                                        <th class="text-center pshead">Weight (kg)</th>
                                        <th class="text-center pshead">Comment</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="dia in item.dialist track by $index" class="repeated-item">
                                        <!-- <td>{{$index + 1}}</td> -->
                                        <td class="text-center psrow">{{dia.dia}}</td>
                                        <td class="text-center psrow">{{dia.roll}}</td>
                                        <td class="text-center psrow">{{dia.weight| number:3}}</td>
                                        <td class="text-center psrow">{{dia.comment}}</td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td class="text-center psrow">
                                            <strong>Total</strong>
                                        </td>
                                        <td class="text-center psrow">
                                            <strong>{{total(item.dialist,'roll',0)}}</strong>
                                        </td>
                                        <td class="text-center psrow">
                                            <strong>{{total(item.dialist,'weight',3)| number:3}}</strong>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </td>
                    </tr>
                </table>
                <div class="form-group">
                    <label class="col-md-3 control-label">Estimated value of Goods:</label>
                    <div class="col-md-2">
                        <p class="form-control">{{grand_total_weight(cdc.items)*cdc.rateperkg|INR}}</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="rateperkg" class="col-md-3 control-label">Rate of goods per kg:</label>
                    <div class="col-md-2">
                        <p class="form-control" id="rateperkg">{{cdc.rateperkg}}</p>
                    </div>
                    <label for="vehicle_number" class="col-md-2 col-md-offset-2 control-label">Vehicle Number:</label>
                    <div class="col-md-2">
                        <p class="form-control" id="vehicle_number">{{cdc.vehicle_number}}</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="comment" class="col-md-3 control-label">DC Comments:</label>
                    <div class="col-md-8">
                        <p class="form-control" id="comment">{{cdc.comment}}</p>
                    </div>
                </div>


            </div>
        </form>
    </div>
</div>

<div class="modal-footer" ng-if="!cdc.dc_number">
    <button ng-click="cancel()" class="btn btn-warning">Edit</button>
    <button ng-click="save()" class="btn btn-primary pull-right" ng-disabled="disablesave">Save and Print</button>
</div>

<div class="modal-footer" ng-if="cdc.dc_number">
    <button ng-click="canceldc()" ng-if="cdc.status == 'active'" class="btn btn-danger pull-left" tabindex="-1">Cancel Current DC</button>
    <button ng-click="cancel()" class="btn btn-warning">Close</button>
    <button ng-click="print()" class="btn btn-primary pull-right">Print</button>
</div>
<div class="modal-footer" ng-if="cdc.modified_time">
    <div class="row">
        <div class="col-md-6">Last Modified Time: {{cdc.modified_time | date:'EEEE, MMMM dd, yyyy HH:mm:ss.sss'}}</div>
        <div class="col-md-6">Last Modified User: {{cdc.blame_user}}</div>
    </div>
</div>